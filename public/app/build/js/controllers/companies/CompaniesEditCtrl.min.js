"use strict";angular.module("BfcApp").controller("CompaniesEditCtrl",["$scope","CompanyService","UserService","toaster","$state","$stateParams",function(a,e,s,t,r,c){e.Show(c.id).then(function(e){a.data=e.data,a.available_users=[],s.AvailableUsers("bcp").then(function(e){a.available_users=e.data,a.data.users[0]&&(a.data.bcp=a.data.users[0].id,a.available_users.push(a.data.users[0]))})}),a.edit=function(){e.Update(a.data,a.file).then(function(a){a.success?(t.pop("success","Success!",""),r.go("companies")):angular.forEach(a.error,function(a){angular.forEach(a,function(a){t.pop("error","",a)})})})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBhbmllcy9Db21wYW5pZXNFZGl0Q3RybC5qcyJdLCJuYW1lcyI6WyJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIkNvbXBhbnlTZXJ2aWNlIiwiVXNlclNlcnZpY2UiLCJ0b2FzdGVyIiwiJHN0YXRlIiwiJHN0YXRlUGFyYW1zIiwiU2hvdyIsImlkIiwidGhlbiIsInJlc3BvbnNlIiwiZGF0YSIsImF2YWlsYWJsZV91c2VycyIsIkF2YWlsYWJsZVVzZXJzIiwidXNlcnMiLCJiY3AiLCJwdXNoIiwiZWRpdCIsIlVwZGF0ZSIsImZpbGUiLCJzdWNjZXNzIiwicG9wIiwiZ28iLCJmb3JFYWNoIiwiZXJyb3IiLCJtZXNzYWdlIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUNBQSxTQUFRQyxPQUFPLFVBQVVDLFdBQVcscUJBQXNCLFNBQVUsaUJBQW1CLGNBQWUsVUFBVyxTQUFXLGVBQWdCLFNBQVNDLEVBQVFDLEVBQWdCQyxFQUFhQyxFQUFTQyxFQUFRQyxHQUt2TUosRUFBZUssS0FBS0QsRUFBYUUsSUFBSUMsS0FBSyxTQUFVQyxHQUNoRFQsRUFBT1UsS0FBT0QsRUFBU0MsS0FFdkJWLEVBQU9XLG1CQUNQVCxFQUFZVSxlQUFlLE9BQU9KLEtBQUssU0FBVUMsR0FDN0NULEVBQU9XLGdCQUFrQkYsRUFBU0MsS0FFL0JWLEVBQU9VLEtBQUtHLE1BQU0sS0FDakJiLEVBQU9VLEtBQUtJLElBQU1kLEVBQU9VLEtBQUtHLE1BQU0sR0FBR04sR0FDdkNQLEVBQU9XLGdCQUFnQkksS0FBS2YsRUFBT1UsS0FBS0csTUFBTSxTQVExRGIsRUFBT2dCLEtBQU8sV0FDVmYsRUFBZWdCLE9BQU9qQixFQUFPVSxLQUFNVixFQUFPa0IsTUFBTVYsS0FBSyxTQUFVQyxHQUN4REEsRUFBU1UsU0FDUmhCLEVBQVFpQixJQUFJLFVBQVcsV0FBWSxJQUNuQ2hCLEVBQU9pQixHQUFHLGNBRVZ4QixRQUFReUIsUUFBUWIsRUFBU2MsTUFBTyxTQUFVQSxHQUN0QzFCLFFBQVF5QixRQUFRQyxFQUFPLFNBQVVDLEdBQzdCckIsRUFBUWlCLElBQUksUUFBUyxHQUFJSSIsImZpbGUiOiJjb21wYW5pZXMvQ29tcGFuaWVzRWRpdEN0cmwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnQmZjQXBwJykuY29udHJvbGxlcignQ29tcGFuaWVzRWRpdEN0cmwnLCBbJyRzY29wZScsICdDb21wYW55U2VydmljZScsICAnVXNlclNlcnZpY2UnLCAndG9hc3RlcicsICckc3RhdGUnLCAgJyRzdGF0ZVBhcmFtcycsIGZ1bmN0aW9uKCRzY29wZSwgQ29tcGFueVNlcnZpY2UsIFVzZXJTZXJ2aWNlLCB0b2FzdGVyLCAkc3RhdGUsICRzdGF0ZVBhcmFtcykge1xuXG4gICAgLypcbiAgICAgVG9kbyAtIEdldCBjb21wYW55IGRhdGFcbiAgICAgKi9cbiAgICBDb21wYW55U2VydmljZS5TaG93KCRzdGF0ZVBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZS5kYXRhO1xuXG4gICAgICAgICRzY29wZS5hdmFpbGFibGVfdXNlcnMgPSBbXTtcbiAgICAgICAgVXNlclNlcnZpY2UuQXZhaWxhYmxlVXNlcnMoJ2JjcCcpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAkc2NvcGUuYXZhaWxhYmxlX3VzZXJzID0gcmVzcG9uc2UuZGF0YTtcblxuICAgICAgICAgICAgaWYoJHNjb3BlLmRhdGEudXNlcnNbMF0pe1xuICAgICAgICAgICAgICAgICRzY29wZS5kYXRhLmJjcCA9ICRzY29wZS5kYXRhLnVzZXJzWzBdLmlkO1xuICAgICAgICAgICAgICAgICRzY29wZS5hdmFpbGFibGVfdXNlcnMucHVzaCgkc2NvcGUuZGF0YS51c2Vyc1swXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLypcbiAgICAgVG9kbyAtIEVkaXQgY29tcGFueVxuICAgICAqL1xuICAgICRzY29wZS5lZGl0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBDb21wYW55U2VydmljZS5VcGRhdGUoJHNjb3BlLmRhdGEsICRzY29wZS5maWxlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgICAgaWYocmVzcG9uc2Uuc3VjY2Vzcyl7XG4gICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ3N1Y2Nlc3MnLCBcIlN1Y2Nlc3MhXCIsIFwiXCIpO1xuICAgICAgICAgICAgICAgICRzdGF0ZS5nbygnY29tcGFuaWVzJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZXJyb3IsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZXJyb3IsIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCBcIlwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxufV0pOyJdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==
