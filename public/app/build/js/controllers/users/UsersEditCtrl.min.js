"use strict";angular.module("BfcApp").controller("UsersEditCtrl",["$scope","UserService","CompanyService","RoleService","toaster","$state","$stateParams",function(e,r,a,o,t,s,c){o.Index().then(function(r){e.roles=r.data}),r.Show(c.id).then(function(r){e.data=r.data,r.data.role_user[0]&&(e.data.role=r.data.role_user[0].id)}),e.edit=function(){r.Update(e.data).then(function(e){e.success?(t.pop("success","Success!",""),s.go("users")):angular.forEach(e.error,function(e){angular.forEach(e,function(e){t.pop("error","",e)})})})},e.updatePassword=function(){r.UpdatePassword(e.data).then(function(e){e.success?(t.pop("success","Success!",""),s.go("users")):angular.forEach(e.error,function(e){angular.forEach(e,function(e){t.pop("error","",e)})})})}}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzL1VzZXJzRWRpdEN0cmwuanMiXSwibmFtZXMiOlsiYW5ndWxhciIsIm1vZHVsZSIsImNvbnRyb2xsZXIiLCIkc2NvcGUiLCJVc2VyU2VydmljZSIsIkNvbXBhbnlTZXJ2aWNlIiwiUm9sZVNlcnZpY2UiLCJ0b2FzdGVyIiwiJHN0YXRlIiwiJHN0YXRlUGFyYW1zIiwiSW5kZXgiLCJ0aGVuIiwicmVzcG9uc2UiLCJyb2xlcyIsImRhdGEiLCJTaG93IiwiaWQiLCJyb2xlX3VzZXIiLCJyb2xlIiwiZWRpdCIsIlVwZGF0ZSIsInN1Y2Nlc3MiLCJwb3AiLCJnbyIsImZvckVhY2giLCJlcnJvciIsIm1lc3NhZ2UiLCJ1cGRhdGVQYXNzd29yZCIsIlVwZGF0ZVBhc3N3b3JkIl0sIm1hcHBpbmdzIjoiQUFBQSxZQUNBQSxTQUFRQyxPQUFPLFVBQVVDLFdBQVcsaUJBQWtCLFNBQVUsY0FBZSxpQkFBbUIsY0FBZSxVQUFXLFNBQVcsZUFBZ0IsU0FBU0MsRUFBUUMsRUFBYUMsRUFBZ0JDLEVBQWFDLEVBQVNDLEVBQVFDLEdBTS9OSCxFQUFZSSxRQUFRQyxLQUFLLFNBQVVDLEdBQy9CVCxFQUFPVSxNQUFRRCxFQUFTRSxPQU01QlYsRUFBWVcsS0FBS04sRUFBYU8sSUFBSUwsS0FBSyxTQUFVQyxHQUM3Q1QsRUFBT1csS0FBT0YsRUFBU0UsS0FDcEJGLEVBQVNFLEtBQUtHLFVBQVUsS0FDdkJkLEVBQU9XLEtBQUtJLEtBQU9OLEVBQVNFLEtBQUtHLFVBQVUsR0FBR0QsTUFPdERiLEVBQU9nQixLQUFNLFdBQ1RmLEVBQVlnQixPQUFPakIsRUFBT1csTUFBTUgsS0FBSyxTQUFVQyxHQUN4Q0EsRUFBU1MsU0FDUmQsRUFBUWUsSUFBSSxVQUFXLFdBQVksSUFDbkNkLEVBQU9lLEdBQUcsVUFFVnZCLFFBQVF3QixRQUFRWixFQUFTYSxNQUFPLFNBQVVBLEdBQ3RDekIsUUFBUXdCLFFBQVFDLEVBQU8sU0FBVUMsR0FDN0JuQixFQUFRZSxJQUFJLFFBQVMsR0FBSUksVUFVN0N2QixFQUFPd0IsZUFBaUIsV0FDcEJ2QixFQUFZd0IsZUFBZXpCLEVBQU9XLE1BQU1ILEtBQUssU0FBVUMsR0FDaERBLEVBQVNTLFNBQ1JkLEVBQVFlLElBQUksVUFBVyxXQUFZLElBQ25DZCxFQUFPZSxHQUFHLFVBRVZ2QixRQUFRd0IsUUFBUVosRUFBU2EsTUFBTyxTQUFVQSxHQUN0Q3pCLFFBQVF3QixRQUFRQyxFQUFPLFNBQVVDLEdBQzdCbkIsRUFBUWUsSUFBSSxRQUFTLEdBQUlJIiwiZmlsZSI6InVzZXJzL1VzZXJzRWRpdEN0cmwuanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5hbmd1bGFyLm1vZHVsZSgnQmZjQXBwJykuY29udHJvbGxlcignVXNlcnNFZGl0Q3RybCcsIFsnJHNjb3BlJywgJ1VzZXJTZXJ2aWNlJywgJ0NvbXBhbnlTZXJ2aWNlJywgICdSb2xlU2VydmljZScsICd0b2FzdGVyJywgJyRzdGF0ZScsICAnJHN0YXRlUGFyYW1zJywgZnVuY3Rpb24oJHNjb3BlLCBVc2VyU2VydmljZSwgQ29tcGFueVNlcnZpY2UsIFJvbGVTZXJ2aWNlLCB0b2FzdGVyLCAkc3RhdGUsICRzdGF0ZVBhcmFtcykge1xuXG5cbiAgICAvKlxuICAgICBUb2RvIC0gR2V0IHJvbGVzXG4gICAgICovXG4gICAgUm9sZVNlcnZpY2UuSW5kZXgoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAkc2NvcGUucm9sZXMgPSByZXNwb25zZS5kYXRhO1xuICAgIH0pO1xuXG4gICAgLypcbiAgICAgVG9kbyAtIEdldCB1c2VyIGRhdGFcbiAgICAgKi9cbiAgICBVc2VyU2VydmljZS5TaG93KCRzdGF0ZVBhcmFtcy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgJHNjb3BlLmRhdGEgPSByZXNwb25zZS5kYXRhO1xuICAgICAgICBpZihyZXNwb25zZS5kYXRhLnJvbGVfdXNlclswXSl7XG4gICAgICAgICAgICAkc2NvcGUuZGF0YS5yb2xlID0gcmVzcG9uc2UuZGF0YS5yb2xlX3VzZXJbMF0uaWQ7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qXG4gICAgIFRvZG8gLSBFZGl0IHVzZXJcbiAgICAgKi9cbiAgICAkc2NvcGUuZWRpdCA9ZnVuY3Rpb24gKCkge1xuICAgICAgICBVc2VyU2VydmljZS5VcGRhdGUoJHNjb3BlLmRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICBpZihyZXNwb25zZS5zdWNjZXNzKXtcbiAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnc3VjY2VzcycsIFwiU3VjY2VzcyFcIiwgXCJcIik7XG4gICAgICAgICAgICAgICAgJHN0YXRlLmdvKCd1c2VycycpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKHJlc3BvbnNlLmVycm9yLCBmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgYW5ndWxhci5mb3JFYWNoKGVycm9yLCBmdW5jdGlvbiAobWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9hc3Rlci5wb3AoJ2Vycm9yJywgXCJcIiwgbWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9O1xuXG4gICAgLypcbiAgICBUb2RvIC0gRWRpdCB1c2VyIHBhc3N3b3JkXG4gICAgICovXG4gICAgJHNjb3BlLnVwZGF0ZVBhc3N3b3JkID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBVc2VyU2VydmljZS5VcGRhdGVQYXNzd29yZCgkc2NvcGUuZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAgIGlmKHJlc3BvbnNlLnN1Y2Nlc3Mpe1xuICAgICAgICAgICAgICAgIHRvYXN0ZXIucG9wKCdzdWNjZXNzJywgXCJTdWNjZXNzIVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAgICAkc3RhdGUuZ28oJ3VzZXJzJyk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2gocmVzcG9uc2UuZXJyb3IsIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhbmd1bGFyLmZvckVhY2goZXJyb3IsIGZ1bmN0aW9uIChtZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b2FzdGVyLnBvcCgnZXJyb3InLCBcIlwiLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH07XG5cbn1dKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
